<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UP! CRASH GAME</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --primary-blue: #2D8CFF;
            --accent-blue: #1A6FD6;
            --dark-bg: #0A0A0F;
            --panel-dark: #111116;
            --panel-medium: #1A1A20;
            --panel-light: #222228;
            --text-primary: #FFFFFF;
            --text-secondary: #8C8E94;
            --success-green: #00CC66;
            --danger-red: #FF4A6E;
        }
        
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--dark-bg);
            color: var(--text-primary);
            min-height: 100vh;
            overflow-x: hidden;
            padding-bottom: 70px;
        }
        
        /* –ü–ê–î–ê–Æ–©–ò–ï –®–ê–†–ò–ö–ò */
        .particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }
        
        .particle {
            position: absolute;
            width: 3px;
            height: 3px;
            background: rgba(255, 255, 255, 0.4);
            border-radius: 50%;
            animation: float linear infinite;
        }
        
        @keyframes float {
            from { transform: translateY(-100px) translateX(0); }
            to { transform: translateY(100vh) translateX(-200px); }
        }
        
        /* –ù–ê–í–ò–ì–ê–¶–ò–Ø –í–ù–ò–ó–£ */
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--panel-dark);
            border-top: 1px solid #2A2A30;
            display: flex;
            justify-content: space-around;
            padding: 12px 0;
            z-index: 1000;
        }
        
        .nav-btn {
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 12px;
            font-weight: 600;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            padding: 8px 16px;
            border-radius: 12px;
        }
        
        .nav-btn.active {
            color: var(--primary-blue);
        }
        
        .nav-icon {
            font-size: 20px;
        }
        
        /* –ò–ì–†–û–í–ê–Ø –û–ë–õ–ê–°–¢–¨ */
        .game-area {
            padding: 20px;
            max-width: 600px;
            margin: 0 auto;
        }
        
        /* –û–¢–°–ß–ï–¢ –ò –†–ê–ö–ï–¢–ê */
        .rocket-display {
            height: 300px;
            position: relative;
            margin: 20px 0 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            border-radius: 20px;
            background: rgba(10, 10, 15, 0.8);
        }
        
        .countdown-display {
            font-size: 120px;
            font-weight: 900;
            color: white;
            text-shadow: 0 0 40px rgba(45, 140, 255, 0.8);
            z-index: 2;
        }
        
        .rocket-gif {
            position: absolute;
            width: 150px;
            height: auto;
            z-index: 2;
            display: none;
        }
        
        /* –ò–ù–§–û–ü–ê–ù–ï–õ–¨ */
        .game-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding: 0 10px;
        }
        
        .status-label {
            font-size: 14px;
            color: var(--text-secondary);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .current-multiplier {
            font-size: 24px;
            font-weight: 800;
            background: linear-gradient(135deg, #2D8CFF, #1A6FD6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        /* –ú–ù–û–ñ–ò–¢–ï–õ–ò */
        .multipliers-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 25px 0;
        }
        
        .multiplier-btn {
            background: var(--panel-medium);
            border: 1px solid #2A2A30;
            border-radius: 12px;
            padding: 18px 10px;
            font-size: 16px;
            font-weight: 700;
            color: var(--text-secondary);
            text-align: center;
            transition: all 0.2s ease;
            cursor: default;
            user-select: none;
        }
        
        .multiplier-btn.active {
            background: var(--primary-blue);
            color: white;
            border-color: var(--primary-blue);
        }
        
        .multiplier-btn.awaiting {
            color: var(--text-primary);
        }
        
        /* –ü–ê–ù–ï–õ–¨ –°–¢–ê–í–û–ö */
        .bet-panel {
            background: var(--panel-dark);
            border-radius: 20px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .bet-panel::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #2D8CFF, #1A6FD6);
        }
        
        .bet-controls {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .bet-quick-btn {
            background: var(--panel-medium);
            border: 1px solid #2A2A30;
            border-radius: 10px;
            padding: 14px 5px;
            font-size: 15px;
            font-weight: 600;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .bet-quick-btn:hover {
            background: var(--panel-light);
            transform: translateY(-1px);
        }
        
        .bet-quick-btn.amount {
            font-size: 18px;
            font-weight: 700;
        }
        
        .bet-input-row {
            display: flex;
            align-items: center;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 14px;
            padding: 5px 20px;
            margin-bottom: 25px;
        }
        
        .bet-input {
            flex: 1;
            background: none;
            border: none;
            color: var(--text-primary);
            font-size: 28px;
            font-weight: 800;
            outline: none;
            text-align: center;
            padding: 10px 0;
        }
        
        .currency {
            color: var(--text-secondary);
            font-size: 18px;
            font-weight: 600;
            margin-left: 10px;
        }
        
        .main-bet-btn {
            width: 100%;
            background: linear-gradient(135deg, #2D8CFF, #1A6FD6);
            border: none;
            border-radius: 16px;
            padding: 22px;
            font-size: 18px;
            font-weight: 800;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(45, 140, 255, 0.3);
            letter-spacing: 0.5px;
        }
        
        .main-bet-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 30px rgba(45, 140, 255, 0.5);
        }
        
        .main-bet-btn:disabled {
            background: #444;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        /* –°–ü–ò–°–û–ö –°–¢–ê–í–û–ö */
        .bets-container {
            background: var(--panel-medium);
            border-radius: 20px;
            overflow: hidden;
            margin-top: 25px;
        }
        
        .bets-header {
            padding: 18px 20px;
            background: rgba(0, 0, 0, 0.2);
            border-bottom: 1px solid #2A2A30;
            font-size: 14px;
            color: var(--text-secondary);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            display: flex;
            justify-content: space-between;
        }
        
        .bets-list {
            min-height: 120px;
            max-height: 300px;
            overflow-y: auto;
        }
        
        .bet-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 18px 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }
        
        .bet-item:last-child {
            border-bottom: none;
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            background: linear-gradient(135deg, #2D8CFF, #1A6FD6);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 18px;
        }
        
        .user-details {
            display: flex;
            flex-direction: column;
        }
        
        .user-name {
            font-size: 15px;
            font-weight: 600;
        }
        
        .user-bet-target {
            font-size: 12px;
            color: var(--text-secondary);
            margin-top: 2px;
        }
        
        .bet-amount {
            font-size: 17px;
            font-weight: 700;
            text-align: right;
        }
        
        .bet-profit {
            font-size: 15px;
            color: var(--success-green);
            font-weight: 600;
            margin-top: 3px;
        }
        
        .no-bets {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 120px;
            color: var(--text-secondary);
            font-size: 16px;
            font-weight: 500;
        }
        
        /* –ê–ù–ò–ú–ê–¶–ò–ò */
        @keyframes countdownPop {
            0% { transform: scale(0.8); opacity: 0; }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); opacity: 1; }
        }
        
        .countdown-animation {
            animation: countdownPop 0.5s ease-out;
        }
        
        @keyframes rocketFly {
            0% { transform: translateY(100px) scale(0.8); opacity: 0; }
            20% { transform: translateY(0) scale(1); opacity: 1; }
            100% { transform: translateY(-300px) scale(0.8); opacity: 0; }
        }
        
        .rocket-flying {
            animation: rocketFly 4s linear forwards;
        }
        
        @keyframes crashExplosion {
            0% { transform: scale(0); opacity: 0; }
            50% { transform: scale(1.5); opacity: 1; }
            100% { transform: scale(2); opacity: 0; }
        }
        
        .crash-animation {
            animation: crashExplosion 1s ease-out forwards;
        }
        
        /* –î–†–£–ì–ò–ï –°–¢–†–ê–ù–ò–¶–´ */
        .page {
            display: none;
            padding: 20px;
        }
        
        .page.active {
            display: block;
        }
        
        .page-title {
            font-size: 32px;
            font-weight: 800;
            margin: 40px 0;
            text-align: center;
            color: var(--text-secondary);
        }
    </style>
</head>
<body>
    <!-- –ü–ê–î–ê–Æ–©–ò–ï –®–ê–†–ò–ö–ò -->
    <div class="particles" id="particles"></div>
    
    <!-- –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ -->
    <div class="game-area">
        <!-- –û–¢–°–ß–ï–¢ –ò –†–ê–ö–ï–¢–ê -->
        <div class="rocket-display">
            <div class="countdown-display" id="countdownDisplay">7</div>
            <img src="gifs/fly.gif" class="rocket-gif" id="rocketGif" alt="–†–∞–∫–µ—Ç–∞">
            <img src="gifs/crash.gif" class="rocket-gif" id="crashGif" alt="–í–∑—Ä—ã–≤">
        </div>
        
        <!-- –ò–ù–§–û–ü–ê–ù–ï–õ–¨ -->
        <div class="game-info">
            <div class="status-label" id="statusLabel">–û–∂–∏–¥–∞–Ω–∏–µ —Å—Ç–∞–≤–æ–∫</div>
            <div class="current-multiplier" id="currentMultiplier">1.00x</div>
        </div>
        
        <!-- –ú–ù–û–ñ–ò–¢–ï–õ–ò -->
        <div class="multipliers-grid">
            <div class="multiplier-btn awaiting" id="multiplier1">–û–∂–∏–¥–∞–Ω–∏–µ</div>
            <div class="multiplier-btn" id="multiplier2">2.00x</div>
            <div class="multiplier-btn" id="multiplier3">3.00x</div>
            <div class="multiplier-btn" id="multiplier4">5.00x</div>
            <div class="multiplier-btn" id="multiplier5">10.00x</div>
            <div class="multiplier-btn" id="multiplier6">20.00x</div>
        </div>
        
        <!-- –ü–ê–ù–ï–õ–¨ –°–¢–ê–í–û–ö -->
        <div class="bet-panel">
            <div class="bet-controls">
                <button class="bet-quick-btn amount" data-action="10">+10</button>
                <button class="bet-quick-btn amount" data-action="50">+50</button>
                <button class="bet-quick-btn amount" data-action="100">+100</button>
                <button class="bet-quick-btn" data-action="half">1/2</button>
                <button class="bet-quick-btn" data-action="double">x2</button>
                <button class="bet-quick-btn" data-action="max">MAX</button>
                <button class="bet-quick-btn" data-action="min">MIN</button>
                <button class="bet-quick-btn" data-action="clear">CLEAR</button>
            </div>
            
            <div class="bet-input-row">
                <input type="number" class="bet-input" id="betAmount" value="250" min="10" step="10">
                <span class="currency">USDT</span>
            </div>
            
            <button class="main-bet-btn" id="placeBetBtn" disabled>–°–¢–ê–í–ö–ê 250 USDT</button>
        </div>
        
        <!-- –°–ü–ò–°–û–ö –°–¢–ê–í–û–ö -->
        <div class="bets-container">
            <div class="bets-header">
                <span>–ò–ì–†–û–ö–ò</span>
                <span>–°–¢–ê–í–ö–ê</span>
            </div>
            <div class="bets-list" id="betsList">
                <!-- –°—Ç–∞–≤–∫–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è —Å—é–¥–∞ -->
            </div>
        </div>
    </div>
    
    <!-- –î–†–£–ì–ò–ï –°–¢–†–ê–ù–ò–¶–´ -->
    <div id="page-rocket" class="page">
        <div class="page-title">–ú–û–Ø –†–ê–ö–ï–¢–ê</div>
    </div>
    
    <div id="page-profile" class="page">
        <div class="page-title">–ü–†–û–§–ò–õ–¨</div>
    </div>
    
    <!-- –ù–ê–í–ò–ì–ê–¶–ò–Ø -->
    <div class="bottom-nav">
        <button class="nav-btn active" data-page="game">
            <span class="nav-icon">üéØ</span>
            –ö—Ä–∞—à
        </button>
        <button class="nav-btn" data-page="rocket">
            <span class="nav-icon">üöÄ</span>
            –†–∞–∫–µ—Ç–∞
        </button>
        <button class="nav-btn" data-page="profile">
            <span class="nav-icon">üë§</span>
            –ü—Ä–æ—Ñ–∏–ª—å
        </button>
    </div>
    
    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
        let tg = window.Telegram.WebApp;
        tg.expand();
        tg.setBackgroundColor('#0A0A0F');
        tg.setHeaderColor('#0A0A0F');
        
        // –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏–≥—Ä—ã
        const gameState = {
            phase: 'COUNTDOWN', // COUNTDOWN, FLYING, CRASHED
            countdown: 7,
            currentMultiplier: 1.0,
            crashMultiplier: null,
            isBettingOpen: true,
            bets: [],
            userBalance: 1000,
            gameInterval: null
        };
        
        // –≠–ª–µ–º–µ–Ω—Ç—ã DOM
        const elements = {
            countdownDisplay: document.getElementById('countdownDisplay'),
            rocketGif: document.getElementById('rocketGif'),
            crashGif: document.getElementById('crashGif'),
            statusLabel: document.getElementById('statusLabel'),
            currentMultiplier: document.getElementById('currentMultiplier'),
            placeBetBtn: document.getElementById('placeBetBtn'),
            betAmount: document.getElementById('betAmount'),
            betsList: document.getElementById('betsList'),
            multiplierBtns: {
                1: document.getElementById('multiplier1'),
                2: document.getElementById('multiplier2'),
                3: document.getElementById('multiplier3'),
                4: document.getElementById('multiplier4'),
                5: document.getElementById('multiplier5'),
                6: document.getElementById('multiplier6')
            }
        };
        
        // –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–¥–∞—é—â–∏—Ö —à–∞—Ä–∏–∫–æ–≤
        function createParticles() {
            const container = document.getElementById('particles');
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                
                // –°–ª—É—á–∞–π–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è
                particle.style.left = `${Math.random() * 100}%`;
                particle.style.animationDelay = `${Math.random() * 5}s`;
                particle.style.animationDuration = `${10 + Math.random() * 20}s`;
                particle.style.opacity = `${0.2 + Math.random() * 0.3}`;
                
                container.appendChild(particle);
            }
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ —Å—Ç–∞–≤–∫–∏
        function updateBetButton() {
            const amount = elements.betAmount.value;
            elements.placeBetBtn.textContent = `–°–¢–ê–í–ö–ê ${amount} USDT`;
            elements.placeBetBtn.disabled = !gameState.isBettingOpen || amount < 10;
        }
        
        // –û–±—Ä–∞–±–æ—Ç–∫–∞ –±—ã—Å—Ç—Ä—ã—Ö –∫–Ω–æ–ø–æ–∫ —Å—Ç–∞–≤–æ–∫
        document.querySelectorAll('.bet-quick-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                if (!gameState.isBettingOpen) return;
                
                let current = parseInt(elements.betAmount.value) || 0;
                const action = btn.dataset.action;
                
                switch(action) {
                    case '10': current += 10; break;
                    case '50': current += 50; break;
                    case '100': current += 100; break;
                    case 'half': current = Math.floor(current / 2); break;
                    case 'double': current *= 2; break;
                    case 'max': current = gameState.userBalance; break;
                    case 'min': current = 10; break;
                    case 'clear': current = 0; break;
                }
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∏
                if (current > gameState.userBalance) current = gameState.userBalance;
                if (current < 10) current = 10;
                
                elements.betAmount.value = current;
                updateBetButton();
                tg.HapticFeedback.impactOccurred('light');
            });
        });
        
        // –û—Ç—Å—á–µ—Ç –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º
        function startCountdown() {
            gameState.phase = 'COUNTDOWN';
            gameState.countdown = 7;
            gameState.isBettingOpen = true;
            gameState.currentMultiplier = 1.0;
            
            elements.statusLabel.textContent = '–û–∂–∏–¥–∞–Ω–∏–µ —Å—Ç–∞–≤–æ–∫';
            elements.currentMultiplier.textContent = '1.00x';
            elements.countdownDisplay.textContent = gameState.countdown;
            elements.countdownDisplay.style.display = 'block';
            elements.rocketGif.style.display = 'none';
            elements.crashGif.style.display = 'none';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –º–Ω–æ–∂–∏—Ç–µ–ª—è
            elements.multiplierBtns[1].textContent = '–û–∂–∏–¥–∞–Ω–∏–µ';
            elements.multiplierBtns[1].className = 'multiplier-btn awaiting';
            
            updateBetButton();
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –æ—Ç—Å—á–µ—Ç
            const countdownInterval = setInterval(() => {
                gameState.countdown--;
                elements.countdownDisplay.textContent = gameState.countdown;
                elements.countdownDisplay.classList.add('countdown-animation');
                
                setTimeout(() => {
                    elements.countdownDisplay.classList.remove('countdown-animation');
                }, 500);
                
                if (gameState.countdown <= 0) {
                    clearInterval(countdownInterval);
                    startRocketFlight();
                }
            }, 1000);
        }
        
        // –ü–æ–ª—ë—Ç —Ä–∞–∫–µ—Ç—ã
        function startRocketFlight() {
            gameState.phase = 'FLYING';
            gameState.isBettingOpen = false;
            gameState.crashMultiplier = 1.0 + Math.random() * 49; // –†–∞–Ω–¥–æ–º–Ω—ã–π –∫—Ä–∞—à 1-50x
            
            elements.statusLabel.textContent = '–†–∞–∫–µ—Ç–∞ –ª–µ—Ç–∏—Ç!';
            elements.countdownDisplay.style.display = 'none';
            elements.rocketGif.style.display = 'block';
            elements.rocketGif.classList.add('rocket-flying');
            
            updateBetButton();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø–µ—Ä–≤—É—é –∫–Ω–æ–ø–∫—É –º–Ω–æ–∂–∏—Ç–µ–ª—è
            elements.multiplierBtns[1].textContent = '1.00x';
            elements.multiplierBtns[1].className = 'multiplier-btn active';
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –º–Ω–æ–∂–∏—Ç–µ–ª—è
            let multiplier = 1.0;
            const flightInterval = setInterval(() => {
                multiplier += 0.1;
                elements.currentMultiplier.textContent = multiplier.toFixed(2) + 'x';
                
                if (multiplier >= gameState.crashMultiplier) {
                    clearInterval(flightInterval);
                    crashRocket();
                }
            }, 100);
        }
        
        // –í–∑—Ä—ã–≤ —Ä–∞–∫–µ—Ç—ã
        function crashRocket() {
            gameState.phase = 'CRASHED';
            
            elements.rocketGif.style.display = 'none';
            elements.crashGif.style.display = 'block';
            elements.crashGif.classList.add('crash-animation');
            
            elements.statusLabel.textContent = '–ö–†–ê–®!';
            
            // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –≤—ã–∏–≥—Ä—ã—à–∏
            calculateWinnings();
            
            // –ß–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã –Ω–∞—á–∏–Ω–∞–µ–º –Ω–æ–≤—ã–π –æ—Ç—Å—á–µ—Ç
            setTimeout(() => {
                startCountdown();
            }, 3000);
        }
        
        // –†–∞—Å—á–µ—Ç –≤—ã–∏–≥—Ä—ã—à–µ–π
        function calculateWinnings() {
            gameState.bets.forEach(bet => {
                if (bet.targetMultiplier <= gameState.crashMultiplier) {
                    bet.profit = bet.amount * bet.targetMultiplier;
                    bet.won = true;
                } else {
                    bet.won = false;
                }
            });
            
            updateBetsList();
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å—Ç–∞–≤–æ–∫
        function updateBetsList() {
            elements.betsList.innerHTML = '';
            
            if (gameState.bets.length === 0) {
                elements.betsList.innerHTML = '<div class="no-bets">–û–∂–∏–¥–∞–Ω–∏–µ —Å—Ç–∞–≤–æ–∫</div>';
                return;
            }
            
            gameState.bets.forEach(bet => {
                const betItem = document.createElement('div');
                betItem.className = 'bet-item';
                
                betItem.innerHTML = `
                    <div class="user-info">
                        <div class="user-avatar">${bet.name.charAt(0)}</div>
                        <div class="user-details">
                            <div class="user-name">${bet.name}</div>
                            <div class="user-bet-target">—Å—Ç–∞–≤–∏—Ç –Ω–∞ ${bet.targetMultiplier.toFixed(2)}x</div>
                        </div>
                    </div>
                    <div>
                        <div class="bet-amount">${bet.amount} USDT</div>
                        ${bet.profit ? `<div class="bet-profit">+${bet.profit.toFixed(2)} USDT</div>` : ''}
                    </div>
                `;
                
                elements.betsList.appendChild(betItem);
            });
        }
        
        // –†–∞–∑–º–µ—â–µ–Ω–∏–µ —Å—Ç–∞–≤–∫–∏
        elements.placeBetBtn.addEventListener('click', () => {
            if (!gameState.isBettingOpen) return;
            
            const amount = parseInt(elements.betAmount.value);
            if (amount < 10 || amount > gameState.userBalance) return;
            
            // –í—ã–±–∏—Ä–∞–µ–º —Å–ª—É—á–∞–π–Ω—ã–π –º–Ω–æ–∂–∏—Ç–µ–ª—å –∏–∑ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö (–∫—Ä–æ–º–µ –ø–µ—Ä–≤–æ–≥–æ)
            const availableMultipliers = [2, 3, 5, 10, 20];
            const targetMultiplier = availableMultipliers[Math.floor(Math.random() * availableMultipliers.length)];
            
            // –î–æ–±–∞–≤–ª—è–µ–º —Å—Ç–∞–≤–∫—É
            gameState.bets.unshift({
                name: '–í—ã',
                amount: amount,
                targetMultiplier: targetMultiplier,
                profit: null,
                won: false
            });
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –±–∞–ª–∞–Ω—Å
            gameState.userBalance -= amount;
            
            // –í–∏–±—Ä–∞—Ü–∏—è
            tg.HapticFeedback.impactOccurred('medium');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
            updateBetsList();
            updateBetButton();
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–ª–µ –≤–≤–æ–¥–∞
            elements.betAmount.value = 250;
            updateBetButton();
        });
        
        // –ù–∞–≤–∏–≥–∞—Ü–∏—è
        document.querySelectorAll('.nav-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const page = btn.dataset.page;
                
                // –°–∫—Ä—ã—Ç—å –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
                document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
                document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
                
                // –ü–æ–∫–∞–∑–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
                document.getElementById(`page-${page}`).classList.add('active');
                btn.classList.add('active');
                
                // –ü–æ–∫–∞–∑–∞—Ç—å/—Å–∫—Ä—ã—Ç—å –∏–≥—Ä–æ–≤—É—é –æ–±–ª–∞—Å—Ç—å
                const gameArea = document.querySelector('.game-area');
                gameArea.style.display = page === 'game' ? 'block' : 'none';
                
                tg.HapticFeedback.impactOccurred('light');
            });
        });
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', () => {
            createParticles();
            startCountdown();
            updateBetButton();
            
            // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ–º –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å—Ç–∞–≤–æ–∫ –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏
            setTimeout(() => {
                gameState.bets = [
                    { name: "trumtory", amount: 22.27, targetMultiplier: 2.0, profit: null },
                    { name: "–ú–∞—Ä–∞—Ç", amount: 15.50, targetMultiplier: 5.0, profit: null },
                    { name: "–ê–ª–µ–∫—Å–µ–π", amount: 8.90, targetMultiplier: 3.0, profit: null }
                ];
                updateBetsList();
            }, 1000);
        });
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—É–º–º—ã
        elements.betAmount.addEventListener('input', updateBetButton);
    </script>
</body>
</html>
