<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
<title>Fragment</title>

<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
:root{
  --bg:#0a0a0c;
  --panel:#111114;
  --panel-2:#0f0f13;
  --border:#1e1e25;
  --text:#e8e8e8;
  --muted:#8b8b8b;
  --accent:#ffffff;
  --ok:#5cff9b;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:Inter,system-ui,-apple-system,Arial,sans-serif;
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
  padding:
    env(safe-area-inset-top)
    env(safe-area-inset-right)
    env(safe-area-inset-bottom)
    env(safe-area-inset-left);
}

/* ===== LOGO ===== */
.logo{
  position:fixed;
  top:18px; left:22px;
  display:flex; align-items:center; gap:10px;
  opacity:0; transform:translateY(-6px);
  animation:logoIn .8s cubic-bezier(.2,.8,.2,1) forwards;
}
.logo svg{width:22px;height:22px}
.logo span{
  font-size:14px; font-weight:500; letter-spacing:.4px;
}

/* ===== CARD ===== */
.wrap{
  width:100%;
  max-width:380px;
  padding:0 12px;
}
.card{
  background:linear-gradient(180deg,var(--panel),var(--panel-2));
  border:1px solid var(--border);
  padding:30px 24px 28px;
  transform:translateY(12px); opacity:0;
  animation:cardIn .7s cubic-bezier(.2,.8,.2,1) forwards .1s;
}

/* ===== TITLES ===== */
h2{
  margin:0 0 22px;
  font-weight:400;
  font-size:18px;
  text-align:center;
}

/* ===== INPUT ===== */
.field{
  position:relative;
  margin-bottom:16px;
}
input{
  width:100%;
  padding:14px 12px;
  background:transparent;
  border:1px solid var(--border);
  color:var(--text);
  font-size:16px;
  transition:border .2s ease, box-shadow .2s ease;
}
input::placeholder{color:var(--muted)}
input:focus{
  outline:none;
  border-color:#2a2a35;
  box-shadow:0 0 0 2px rgba(255,255,255,.03);
}

/* ===== BUTTON ===== */
button{
  width:100%;
  padding:14px;
  background:var(--accent);
  color:#000;
  border:none;
  font-size:15px;
  font-weight:500;
  cursor:pointer;
  transition:transform .15s ease, opacity .15s ease;
}
button:active{transform:scale(.98);opacity:.9}
button[disabled]{opacity:.6;cursor:not-allowed}

/* ===== SKELETON ===== */
.skeleton{
  display:grid; gap:10px;
}
.sk{
  height:14px;
  background:linear-gradient(90deg,#15151b,#1b1b23,#15151b);
  background-size:200% 100%;
  animation:shimmer 1.2s infinite;
}
.sk.w40{width:40%}
.sk.w70{width:70%}
.sk.h44{height:44px}

/* ===== LOADER DOTS ===== */
.loader{
  display:flex; justify-content:center; gap:6px; margin-top:6px;
}
.dot{
  width:6px;height:6px;border-radius:50%;
  background:var(--text);
  animation:bounce 1.2s infinite ease-in-out;
}
.dot:nth-child(2){animation-delay:.15s}
.dot:nth-child(3){animation-delay:.3s}

/* ===== SUCCESS ===== */
.success{
  display:flex; flex-direction:column; align-items:center; gap:12px;
  animation:fadeUp .5s ease forwards;
}
.check{
  width:36px;height:36px;border-radius:50%;
  border:2px solid var(--ok);
  display:grid;place-items:center;
}
.check svg{width:18px;height:18px}

/* ===== UTIL ===== */
.hidden{display:none}

/* ===== ANIMS ===== */
@keyframes logoIn{to{opacity:1;transform:none}}
@keyframes cardIn{to{opacity:1;transform:none}}
@keyframes shimmer{0%{background-position:0 0}100%{background-position:200% 0}}
@keyframes bounce{0%,80%,100%{transform:scale(0)}40%{transform:scale(1)}}
@keyframes fadeUp{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:none}}

@media (max-width:420px){
  h2{font-size:17px}
}
</style>
</head>

<body>

<!-- LOGO (SVG уникальный, fragment‑style) -->
<div class="logo">
  <svg viewBox="0 0 24 24" fill="none">
    <!-- геометричный, минималистичный знак -->
    <rect x="3" y="3" width="18" height="18" rx="5" stroke="white" stroke-width="1.5"/>
    <path d="M7 12h10" stroke="white" stroke-width="1.6" stroke-linecap="round"/>
    <path d="M12 7v10" stroke="white" stroke-width="1.6" stroke-linecap="round"/>
  </svg>
  <span>Fragment</span>
</div>

<div class="wrap">
  <div class="card" id="card">

    <!-- STEP 1 -->
    <div id="step1">
      <h2>Введите ваш номер</h2>
      <div class="field">
        <input id="phone" placeholder="+79991234567" inputmode="tel">
      </div>
      <button id="go1">Продолжить</button>
    </div>

    <!-- LOADING -->
    <div id="loading" class="hidden">
      <div class="skeleton">
        <div class="sk w70"></div>
        <div class="sk h44"></div>
        <div class="sk h44"></div>
      </div>
      <div class="loader">
        <div class="dot"></div><div class="dot"></div><div class="dot"></div>
      </div>
    </div>

    <!-- STEP 2 -->
    <div id="step2" class="hidden">
      <h2>Введите код</h2>
      <div class="field">
        <input id="code" placeholder="Код" inputmode="numeric">
      </div>
      <button id="go2">Подтвердить</button>
    </div>

    <!-- SUCCESS -->
    <div id="done" class="hidden success">
      <div class="check">
        <svg viewBox="0 0 24 24" fill="none">
          <path d="M6 12l4 4 8-8" stroke="#5cff9b" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </div>
      <div>Готово!</div>
    </div>

  </div>
</div>

<script>
const tg = window.Telegram?.WebApp;
if (tg){ tg.ready(); tg.expand(); }

const step1 = document.getElementById('step1');
const step2 = document.getElementById('step2');
const loading = document.getElementById('loading');
const done = document.getElementById('done');

document.getElementById('go1').onclick = () => {
  const v = document.getElementById('phone').value.trim();
  if(!v) return;
  step1.classList.add('hidden');
  loading.classList.remove('hidden');
  setTimeout(()=>{
    loading.classList.add('hidden');
    step2.classList.remove('hidden');
  }, 1400);
};

document.getElementById('go2').onclick = () => {
  const v = document.getElementById('code').value.trim();
  if(!v) return;
  step2.classList.add('hidden');
  done.classList.remove('hidden');
};
</script>

</body>
</html>
